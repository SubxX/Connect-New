<div class="tfa-popup-holder text-center">

  <svg width="128" height="55" viewBox="0 0 128 55" xmlns="http://www.w3.org/2000/svg" class="leaf-svg">
    <path
      d="M127.25 0.0697249C127.25 0.0697249 87.7203 -3.1611 92.3822 34.3623C92.3822 34.3623 91.4432 40.9957 95.8938 44.0039C95.8938 44.0039 95.9642 41.2246 99.9454 42.1659C101.364 42.4908 102.806 42.5847 104.241 42.4457C106.181 42.2703 108.026 41.2407 109.494 39.5138C109.494 39.5138 120.602 33.2938 124.926 8.69375C124.926 8.69375 128.123 3.32599 127.996 1.94589L121.325 5.80636C121.325 5.80636 123.602 12.3253 121.795 17.7439C121.795 17.7439 121.579 6.04168 120.297 6.29607C120.034 6.34695 116.828 8.55384 116.828 8.55384C116.828 8.55384 120.752 19.9062 117.767 28.1614C117.767 28.1614 118.889 14.1696 115.579 9.37426L110.884 13.0884C110.884 13.0884 115.466 24.8161 112.363 34.3877C112.363 34.3877 113.156 19.7091 109.898 13.9915L105.645 18.488C105.645 18.488 109.95 30.0439 107.325 37.9811C107.325 37.9811 106.978 20.8984 104.72 19.6073C104.72 19.6073 100.997 24.0593 100.429 25.8782C100.429 25.8782 103.377 34.2733 101.551 38.6998C101.551 38.6998 100.429 27.3155 99.5088 27.2519C99.5088 27.2519 95.7999 34.7948 95.415 39.9717C95.415 39.9717 95.5746 32.2826 98.6074 26.5396C98.6074 26.5396 95.0253 27.3728 92.9315 30.5209C92.9315 30.5209 93.5089 25.1913 99.5041 24.7207C99.5041 24.7207 102.57 18.9968 103.391 18.6533C103.391 18.6533 97.4055 17.9728 93.7765 20.1543C93.7765 20.1543 96.9689 15.1236 104.49 17.4132L108.687 12.7641C108.687 12.7641 100.809 11.3077 97.4665 12.9167C97.4665 12.9167 101.316 8.46479 109.823 11.7083L114.396 8.00689C114.396 8.00689 107.678 6.04168 103.673 6.73491C103.673 6.73491 107.898 3.65035 115.734 6.99565L119.02 5.00501C119.02 5.00501 114.095 3.69487 112.654 3.485C111.213 3.27512 111.138 2.74088 111.138 2.74088C114.279 2.03391 117.504 2.53179 120.447 4.17822C120.447 4.17822 127.367 0.661195 127.25 0.0697249Z" />
    <path
      d="M11.5 35.9467C10.9167 36.28 10.2917 36.5217 9.625 36.6717C8.975 36.8383 8.275 36.9217 7.525 36.9217C6.60833 36.9217 5.75833 36.7633 4.975 36.4467C4.20833 36.1133 3.54167 35.6217 2.975 34.9717C2.40833 34.305 1.95833 33.4633 1.625 32.4467C1.30833 31.43 1.15 30.23 1.15 28.8467C1.15 27.53 1.31667 26.3717 1.65 25.3717C2 24.3717 2.46667 23.53 3.05 22.8467C3.63333 22.1633 4.31667 21.6467 5.1 21.2967C5.88333 20.9467 6.71667 20.7717 7.6 20.7717C8.21667 20.7717 8.84167 20.855 9.475 21.0217C10.125 21.1883 10.7583 21.4633 11.375 21.8467L10.775 23.5467C9.675 22.9133 8.64167 22.5967 7.675 22.5967C6.99167 22.5967 6.375 22.7467 5.825 23.0467C5.29167 23.33 4.83333 23.7467 4.45 24.2967C4.06667 24.8467 3.76667 25.505 3.55 26.2717C3.35 27.0383 3.25 27.8967 3.25 28.8467C3.25 29.9133 3.35833 30.8383 3.575 31.6217C3.80833 32.405 4.125 33.055 4.525 33.5717C4.925 34.0883 5.4 34.4717 5.95 34.7217C6.51667 34.9717 7.125 35.0967 7.775 35.0967C8.25833 35.0967 8.76667 35.0383 9.3 34.9217C9.83333 34.7883 10.3833 34.5633 10.95 34.2467L11.5 35.9467ZM24 30.7967C24 31.7133 23.8667 32.5467 23.6 33.2967C23.35 34.03 22.9917 34.6633 22.525 35.1967C22.0583 35.73 21.5 36.1467 20.85 36.4467C20.2 36.73 19.4917 36.8717 18.725 36.8717C17.975 36.8717 17.275 36.73 16.625 36.4467C15.9917 36.1467 15.4417 35.73 14.975 35.1967C14.5083 34.6633 14.1417 34.03 13.875 33.2967C13.625 32.5467 13.5 31.7133 13.5 30.7967C13.5 29.88 13.625 29.0467 13.875 28.2967C14.1417 27.5467 14.5083 26.9133 14.975 26.3967C15.4417 25.8633 15.9917 25.455 16.625 25.1717C17.275 24.8717 17.975 24.7217 18.725 24.7217C19.4917 24.7217 20.2 24.8717 20.85 25.1717C21.5 25.455 22.0583 25.8633 22.525 26.3967C22.9917 26.9133 23.35 27.5467 23.6 28.2967C23.8667 29.0467 24 29.88 24 30.7967ZM21.875 30.7967C21.875 29.48 21.5917 28.4467 21.025 27.6967C20.4583 26.93 19.6917 26.5467 18.725 26.5467C17.775 26.5467 17.0167 26.93 16.45 27.6967C15.9 28.4467 15.625 29.48 15.625 30.7967C15.625 32.0967 15.9 33.13 16.45 33.8967C17.0167 34.6467 17.775 35.0217 18.725 35.0217C19.6917 35.0217 20.4583 34.6467 21.025 33.8967C21.5917 33.13 21.875 32.0967 21.875 30.7967ZM26.775 25.3217C27.525 25.1383 28.2667 24.9967 29 24.8967C29.75 24.7967 30.45 24.7467 31.1 24.7467C32.65 24.7467 33.8167 25.1467 34.6 25.9467C35.4 26.7467 35.8 28.03 35.8 29.7967L35.8 36.5967L33.75 36.5967L33.75 30.1717C33.75 29.4217 33.6833 28.8133 33.55 28.3467C33.4167 27.88 33.225 27.5217 32.975 27.2717C32.7417 27.005 32.45 26.8217 32.1 26.7217C31.7667 26.6217 31.4 26.5717 31 26.5717C30.6667 26.5717 30.3083 26.5967 29.925 26.6467C29.5583 26.68 29.2 26.73 28.85 26.7967L28.85 36.5967L26.775 36.5967L26.775 25.3217ZM39.275 25.3217C40.025 25.1383 40.7667 24.9967 41.5 24.8967C42.25 24.7967 42.95 24.7467 43.6 24.7467C45.15 24.7467 46.3167 25.1467 47.1 25.9467C47.9 26.7467 48.3 28.03 48.3 29.7967L48.3 36.5967L46.25 36.5967L46.25 30.1717C46.25 29.4217 46.1833 28.8133 46.05 28.3467C45.9167 27.88 45.725 27.5217 45.475 27.2717C45.2417 27.005 44.95 26.8217 44.6 26.7217C44.2667 26.6217 43.9 26.5717 43.5 26.5717C43.1667 26.5717 42.8083 26.5967 42.425 26.6467C42.0583 26.68 41.7 26.73 41.35 26.7967L41.35 36.5967L39.275 36.5967L39.275 25.3217ZM56.475 24.7217C58.0417 24.7217 59.25 25.2133 60.1 26.1967C60.95 27.1633 61.375 28.6383 61.375 30.6217L61.375 31.3467L53.075 31.3467C53.1583 32.5467 53.55 33.4633 54.25 34.0967C54.9667 34.7133 55.9667 35.0217 57.25 35.0217C57.9833 35.0217 58.6083 34.9633 59.125 34.8467C59.6417 34.73 60.0333 34.605 60.3 34.4717L60.575 36.2217C60.325 36.355 59.875 36.4967 59.225 36.6467C58.575 36.7967 57.8417 36.8717 57.025 36.8717C56.025 36.8717 55.1417 36.7217 54.375 36.4217C53.625 36.105 53 35.68 52.5 35.1467C52 34.6133 51.625 33.98 51.375 33.2467C51.125 32.4967 51 31.6883 51 30.8217C51 29.7883 51.1583 28.8883 51.475 28.1217C51.7917 27.355 52.2083 26.7217 52.725 26.2217C53.2417 25.7217 53.825 25.3467 54.475 25.0967C55.125 24.8467 55.7917 24.7217 56.475 24.7217ZM59.275 29.6717C59.275 28.6883 59.0167 27.9133 58.5 27.3467C57.9833 26.7633 57.3 26.4717 56.45 26.4717C55.9667 26.4717 55.525 26.5633 55.125 26.7467C54.7417 26.93 54.4083 27.1717 54.125 27.4717C53.8417 27.7717 53.6167 28.1133 53.45 28.4967C53.2833 28.88 53.175 29.2717 53.125 29.6717L59.275 29.6717ZM63.725 30.8217C63.725 29.7717 63.8917 28.8633 64.225 28.0967C64.5583 27.33 65.0167 26.6967 65.6 26.1967C66.1833 25.6967 66.8583 25.33 67.625 25.0967C68.4083 24.8467 69.2417 24.7217 70.125 24.7217C70.6917 24.7217 71.25 24.7633 71.8 24.8467C72.3667 24.9133 72.9667 25.0467 73.6 25.2467L73.125 27.0217C72.575 26.8217 72.0667 26.6967 71.6 26.6467C71.15 26.58 70.6917 26.5467 70.225 26.5467C69.625 26.5467 69.0583 26.63 68.525 26.7967C67.9917 26.9467 67.525 27.1967 67.125 27.5467C66.7417 27.88 66.4333 28.3217 66.2 28.8717C65.9667 29.405 65.85 30.055 65.85 30.8217C65.85 31.555 65.9583 32.1883 66.175 32.7217C66.3917 33.2383 66.6917 33.6717 67.075 34.0217C67.475 34.355 67.95 34.605 68.5 34.7717C69.05 34.9383 69.6583 35.0217 70.325 35.0217C70.8583 35.0217 71.3667 34.9967 71.85 34.9467C72.35 34.88 72.8917 34.7467 73.475 34.5467L73.775 36.2717C73.1917 36.4883 72.6 36.6383 72 36.7217C71.4 36.8217 70.75 36.8717 70.05 36.8717C69.1167 36.8717 68.2583 36.7467 67.475 36.4967C66.7083 36.23 66.0417 35.8467 65.475 35.3467C64.925 34.8467 64.4917 34.2217 64.175 33.4717C63.875 32.705 63.725 31.8217 63.725 30.8217ZM81.075 24.9967L85.975 24.9967L85.975 26.7217L81.075 26.7217L81.075 32.1217C81.075 32.705 81.1167 33.18 81.2 33.5467C81.2833 33.9133 81.4167 34.2133 81.6 34.4467C81.8 34.6633 82.05 34.8133 82.35 34.8967C82.65 34.98 83.0167 35.0217 83.45 35.0217C84.05 35.0217 84.5333 34.9717 84.9 34.8717C85.2667 34.7717 85.6167 34.6383 85.95 34.4717L86.25 36.2217C86.0167 36.3217 85.6417 36.455 85.125 36.6217C84.625 36.7883 84 36.8717 83.25 36.8717C82.3833 36.8717 81.675 36.7717 81.125 36.5717C80.575 36.3717 80.1417 36.0717 79.825 35.6717C79.525 35.2717 79.3167 34.78 79.2 34.1967C79.0833 33.5967 79.025 32.905 79.025 32.1217L79.025 26.7217L76.575 26.7217L76.575 24.9967L79.025 24.9967L79.025 21.7467L81.075 21.3967L81.075 24.9967Z" />
  </svg>

  <div class="tfa-form-holder d-flex justify-content-center align-items-center">

    <div class="w-100 text-left" *ngIf="stepCounter==1" @fade>

      <app-all-alerts [type]="errType" [isShown]="tfaError || false" (closeClick)="tfaError=false;">
      </app-all-alerts>

      <p class="font-size-18 mt-3 inner-popup-primary-text">
        {{data.type==='EMAIL' ?'Setup EMAIL authentication' : 'Setup 2-factor authentication'}}
      </p>
      <p class="font-size-15 inner-popup-secondary-text">Enter password to continue</p>

      <div class="text-left root-io-holder position-relative my-20px">
        <div class="default-io-holder position-relative" [class.invalid-io]="pass.touched && pass?.errors">
          <input type="text" class="default-io" placeholder="Password" [formControl]="pass" />
          <i class="fas fa-key"></i>
        </div>
        <app-input-errors [control]="pass"></app-input-errors>
      </div>

      <button class="default-btn outline-btn" [disabled]="pass.status=='INVALID'"
        (click)="stepperHandeler()">NEXT</button>

    </div>


    <div class="w-100 text-left" *ngIf="stepCounter==2" @fade>

      <app-all-alerts [type]="errType" [isShown]="tfaError || false" (closeClick)="tfaError=false;">
      </app-all-alerts>

      <div class="qr-code-holder text-center mb-4 mt-1" *ngIf="data.type==='2FA'">
        <img [src]="qrCode" class="img-fluid" />
      </div>

      <p class="font-size-15 inner-popup-secondary-text mb-2">
        {{data.type==='EMAIL' ? 'Enter the code from yout EMAIL' : 'Scan the above code'}}
      </p>

      <div class="text-left root-io-holder position-relative my-20px">
        <div class="default-io-holder position-relative" [class.invalid-io]="code.touched && code?.errors">
          <input type="text" class="default-io" placeholder="Code" [formControl]="code" />
          <i class="fas fa-key"></i>
        </div>
        <app-input-errors [control]="code"></app-input-errors>
      </div>

      <button class="default-btn outline-btn" [disabled]="code.status==='INVALID'"
        (click)="stepperHandeler()">NEXT</button>

    </div>


    <div class="w-100 text-left" *ngIf="stepCounter==3" @fade>

      <div class="text-center mb-4 mt-2">
        <img src="assets/popup-assets/tfa-set-success.svg" class="img-fluid" />
      </div>

      <p class="font-size-18 mt-3 inner-popup-primary-text">
        {{data.type + ' Authentication set'}}
      </p>
      <p class="font-size-15 inner-popup-secondary-text mb-4">Please relogin in order to check if {{data.type}} works
        properly.
        All set Good to go BANZAI !!!</p>

      <button class="default-btn outline-btn" (click)="stepperHandeler()">DONE</button>

    </div>

  </div>

  <div class="stepper-holder d-flex justify-content-center align-items-center mt-4">
    <div class="step" *ngFor="let step of steps;let i=index" [ngClass]="{'active-step': i+1==stepCounter}"></div>
  </div>
</div>
